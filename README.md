# Task Manager


Task Manager ‚Äî —ç—Ç–æ —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ FastAPI —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Celery, Redis, RabbitMQ, PostgreSQL,Grafana, Prometheus –∏ Docker.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ API –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π)
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
- –û—Ç–º–µ–Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á —Å –ø–æ–º–æ—â—å—é Celery
- –ë–∞–∑–æ–≤–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é Redis
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å Prometheus+Grafana+PostgreSQL


## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- FastAPI
- SQLAlchemy 
- PostgreSQL 
- Celery 
- Redis 
- RabbitMQ
- Docker
- Prometheus
- Grafana

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
### 1.–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```sh
git clone https://github.com/irinakuznetsovaa/task_manager.git
—Åd task_manager
```

### 2.–°–æ–∑–¥–∞–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ .env

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, —Å–∫–æ–ø–∏—Ä—É–π —Ç—É–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ .env.example –∏ –Ω–∞—Å—Ç—Ä–æ–π –∏—Ö.
### 3. –ó–∞–ø—É—Å–∫–∞–µ–º —á–µ—Ä–µ–∑ Docker

```sh
docker-compose up --build -d
```
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

FastAPI –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ http://localhost:8000
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è OpenAPI ‚Äî http://localhost:8000/docs
Grafana - http://localhost:3000/ (–ª–æ–≥–∏–Ω,–ø–∞—Ä–æ–ª—å:admin)
Prometheus -http://localhost:9090/

## API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API:
Swagger UI: http://localhost:8000/docs

#### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### üìå –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã API

| **–ú–µ—Ç–æ–¥** | **URL**                        | **–û–ø–∏—Å–∞–Ω–∏–µ**                                      |
|-----------|--------------------------------|--------------------------------------------------|
| **POST**  | `/tasks/sync/create`          | –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)                       |
| **POST**  | `/tasks/async/create`         | –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ Celery)        |
| **GET**   | `/tasks/id/{task_id}`         | –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏                           |
| **GET**   | `/tasks/list`                 | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á                           |
| **POST**  | `/tasks/update`               | –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É                                 |
| **POST**  | `/tasks/cancel`               | –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–¥–∞—á—É                                 |
| **GET**   | `/async/task/result/{task_id}` | –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏           |




## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Docker

```sh
docker exec -it task_manager-app-1 /bin/sh
```
### 2.–ö–æ–º–∞–Ω–¥–∞:
```sh
pytest
```

